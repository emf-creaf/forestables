<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Inventory data output • forestables</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Inventory data output">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">forestables</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/documentacion.html">Description of functions</a></li>
    <li><a class="dropdown-item" href="../articles/inventory_data_tibble.html">Inventory data output</a></li>
    <li><a class="dropdown-item" href="../articles/selecting_plots.html">Selecting plots</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Inventory data output</h1>
            
      

      <div class="d-none name"><code>inventory_data_tibble.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="inventories-outputs">Inventories outputs<a class="anchor" aria-label="anchor" href="#inventories-outputs"></a>
</h2>
<p><code>forestables</code> tries to uniformize, when possible, the
outputs of different inventories. This makes easier to design workflows
that work with different inventories. This vignette shows and explains
the <code>forestables</code> output tibble.</p>
<div class="section level3">
<h3 id="example-objects">Example objects<a class="anchor" aria-label="anchor" href="#example-objects"></a>
</h3>
<p><code>forestables</code> ships with some output examples:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load the library</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://emf-creaf.github.io/forestables/">forestables</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: data.table</span></span>
<span><span class="co">#&gt; Loading required package: dtplyr</span></span>
<span></span>
<span><span class="co"># fia example</span></span>
<span><span class="va">fia_output_example</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4,193 × 24</span></span></span>
<span><span class="co">#&gt;    id_unique_code  year  plot coordx coordy coord_sys   crs   elev aspect slope</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> US_2_20_39004   <span style="text-decoration: underline;">2</span>015 <span style="text-decoration: underline;">39</span>004  -<span style="color: #BB0000;">149.</span>   61.1 NAD83      <span style="text-decoration: underline;">4</span>269  762       <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> US_2_20_6376    <span style="text-decoration: underline;">2</span>015  <span style="text-decoration: underline;">6</span>376  -<span style="color: #BB0000;">149.</span>   60.9 NAD83      <span style="text-decoration: underline;">4</span>269  335.     220    43</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> US_2_20_1615    <span style="text-decoration: underline;">2</span>015  <span style="text-decoration: underline;">1</span>615  -<span style="color: #BB0000;">149.</span>   60.9 NAD83      <span style="text-decoration: underline;">4</span>269  579.      <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> US_2_20_1470    <span style="text-decoration: underline;">2</span>015  <span style="text-decoration: underline;">1</span>470  -<span style="color: #BB0000;">149.</span>   61.2 NAD83      <span style="text-decoration: underline;">4</span>269 <span style="text-decoration: underline;">1</span>189.      <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> US_2_20_57145   <span style="text-decoration: underline;">2</span>015 <span style="text-decoration: underline;">57</span>145  -<span style="color: #BB0000;">148.</span>   61.1 NAD83      <span style="text-decoration: underline;">4</span>269  945.      <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> US_2_20_29733   <span style="text-decoration: underline;">2</span>015 <span style="text-decoration: underline;">29</span>733  -<span style="color: #BB0000;">149.</span>   61.3 NAD83      <span style="text-decoration: underline;">4</span>269 <span style="text-decoration: underline;">1</span>006.      <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> US_2_20_63035   <span style="text-decoration: underline;">2</span>015 <span style="text-decoration: underline;">63</span>035  -<span style="color: #BB0000;">149.</span>   61.1 NAD83      <span style="text-decoration: underline;">4</span>269  884.      <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> US_2_20_16154   <span style="text-decoration: underline;">2</span>015 <span style="text-decoration: underline;">16</span>154  -<span style="color: #BB0000;">150.</span>   61.1 NAD83      <span style="text-decoration: underline;">4</span>269 <span style="text-decoration: underline;">1</span>067.      <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> US_2_20_65841   <span style="text-decoration: underline;">2</span>015 <span style="text-decoration: underline;">65</span>841  -<span style="color: #BB0000;">150.</span>   61.1 NAD83      <span style="text-decoration: underline;">4</span>269   30.5     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> US_2_20_65097   <span style="text-decoration: underline;">2</span>015 <span style="text-decoration: underline;">65</span>097  -<span style="color: #BB0000;">150.</span>   61.4 NAD83      <span style="text-decoration: underline;">4</span>269   30.5     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 4,183 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 14 more variables: country &lt;chr&gt;, state_code &lt;int&gt;, state_ab &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   state_name &lt;chr&gt;, county_code &lt;chr&gt;, p3panel &lt;int&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   p2veg_sampling_status_cd &lt;int&gt;, rscd &lt;int&gt;, design_code &lt;int&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   subplot &lt;list&gt;, tree &lt;list&gt;, understory &lt;list&gt;, regen &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   p2veg_sampling_level_detail_cd &lt;int&gt;</span></span></span>
<span></span>
<span><span class="co"># ffi example</span></span>
<span><span class="va">ffi_output_example</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 499 × 16</span></span></span>
<span><span class="co">#&gt;    id_unique_code  year plot  coordx coordy coord_sys   crs aspect slope country</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> FR_42_500534    <span style="text-decoration: underline;">2</span>015 5005… 8.14<span style="color: #949494;">e</span>5 6.48<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154   85.5    43 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> FR_42_503498    <span style="text-decoration: underline;">2</span>015 5034… 7.61<span style="color: #949494;">e</span>5 6.53<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154  130.     12 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> FR_42_504950    <span style="text-decoration: underline;">2</span>015 5049… 7.93<span style="color: #949494;">e</span>5 6.55<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154  333      15 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> FR_42_505301    <span style="text-decoration: underline;">2</span>015 5053… 7.72<span style="color: #949494;">e</span>5 6.48<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154   <span style="color: #BB0000;">NA</span>       0 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> FR_42_505321    <span style="text-decoration: underline;">2</span>015 5053… 8.22<span style="color: #949494;">e</span>5 6.48<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154  180      18 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> FR_42_507479    <span style="text-decoration: underline;">2</span>015 5074… 7.76<span style="color: #949494;">e</span>5 6.50<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154   <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span> FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> FR_42_509007    <span style="text-decoration: underline;">2</span>015 5090… 8.07<span style="color: #949494;">e</span>5 6.53<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154  266.     28 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> FR_42_512511    <span style="text-decoration: underline;">2</span>015 5125… 8.08<span style="color: #949494;">e</span>5 6.46<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154   23.4    15 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> FR_42_512565    <span style="text-decoration: underline;">2</span>015 5125… 8.22<span style="color: #949494;">e</span>5 6.47<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154   22.5    46 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> FR_42_512609    <span style="text-decoration: underline;">2</span>015 5126… 7.97<span style="color: #949494;">e</span>5 6.53<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154  313.     36 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 489 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 6 more variables: dep &lt;chr&gt;, dep_name &lt;chr&gt;, visite &lt;int&gt;, tree &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   understory &lt;list&gt;, regen &lt;list&gt;</span></span></span>
<span></span>
<span><span class="co"># ifn example</span></span>
<span><span class="va">ifn_output_example</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5,207 × 24</span></span></span>
<span><span class="co">#&gt;    id_unique_code   year  plot  coordx coordy coord_sys   crs  elev aspect slope</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 24_0191_NN_A1_A1 92    0191  <span style="text-decoration: underline;">675</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>100     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 24_0192_NN_A1_xx 92    0192  <span style="text-decoration: underline;">675</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>300     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 24_0193_NN_xx_xx 92    0193  <span style="text-decoration: underline;">700</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>500     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 24_0194_NN_xx_xx 92    0194  <span style="text-decoration: underline;">687</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>400     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 24_0195_NN_xx_xx 92    0195  <span style="text-decoration: underline;">700</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>300     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 24_0196_NN_xx_xx 92    0196  <span style="text-decoration: underline;">683</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>600     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 24_0197_NN_xx_xx 92    0197  <span style="text-decoration: underline;">682</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>500     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 24_0198_NN_A1_A1 92    0198  <span style="text-decoration: underline;">684</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>300     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 24_0199_NN_A3C_… 92    0199  <span style="text-decoration: underline;">692</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>400     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 24_0200_NN_xx_xx 92    0200  <span style="text-decoration: underline;">693</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>200     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5,197 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 14 more variables: country &lt;chr&gt;, version &lt;chr&gt;, class &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   subclass &lt;chr&gt;, province_code &lt;chr&gt;, province_name_original &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ca_name_original &lt;chr&gt;, sheet_ntm &lt;chr&gt;, huso &lt;dbl&gt;, slope_mean &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   type &lt;int&gt;, tree &lt;list&gt;, understory &lt;list&gt;, regen &lt;list&gt;</span></span></span></code></pre></div>
<p>We are going to use these examples to explain the estructure of the
output.</p>
</div>
<div class="section level3">
<h3 id="output-estructure">Output estructure<a class="anchor" aria-label="anchor" href="#output-estructure"></a>
</h3>
<p>Inventories outputs are dataframes (tibbles) in which each row is a
plot/year combination (plot/version in the IFN). Metadata for the plot
is presented in the first columns (plot IDs, coordinates info,
topography…). The last three columns are always nested columns with the
<code>tree</code> table for that plot/year, <code>understory</code>
table for that plot/year and <code>regen</code> table for that
plot/year.</p>
<p><img src="%22inventory_row.svg%22"></p>
<ul>
<li><p>Common metadata among different inventories:<br><code>id_unique_code</code>, <code>year</code>, <code>plot</code>,
<code>coordx</code>, <code>coordy</code>, <code>coord_sys</code>,
<code>crs</code>, <code>elev</code>, <code>aspect</code>,
<code>slope</code>, <code>country</code>.</p></li>
<li><p>FIA unique metadata:<br><code>state_code</code>, <code>state_ab</code>, <code>state_name</code>,
<code>county_code</code>, <code>p3panel</code>,
<code>p2veg_sampling_status_cd</code>,
<code>p2veg_sampling_level_detail</code>, <code>rscd</code>,
<code>design_code</code>, <code>subplot</code>.</p></li>
<li><p>IFN unique metadata:<br><code>version</code>, <code>class</code>, <code>subclass</code>,
<code>province_code</code>, <code>province_name_original</code>,
<code>ca_name_original</code>, <code>sheet_ntm</code>,
<code>huso</code>, <code>slope_mean</code>, <code>type</code>.</p></li>
<li><p>FFI unique metadata:<br><code>dep</code>, <code>dep_name</code>, <code>visite</code>.</p></li>
<li><p>Nested columns common to all inventories:<br><code>tree</code>, <code>understory</code>, <code>regen</code></p></li>
</ul>
<p>To know more about each variable, you can check the ?????
vignette.</p>
</div>
<div class="section level3">
<h3 id="post-processing-outputs">Post-processing outputs<a class="anchor" aria-label="anchor" href="#post-processing-outputs"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<strong>Cleaning empty data</strong>. By default, <code>ifn_</code>,
<code>fia_</code> and <code>ffi_to_tibble</code> functions return all
plots requested, even if they don’t have data for that year or version.
The <code><a href="../reference/clean_empty.html">clean_empty()</a></code> function can be used after retrieving the
data to remove empty plots in <code>tree</code>, <code>shrub</code>,
<code>herbs</code> and/or <code>regen</code> columns:</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># FIA plots in AK for the 2015-2018 period</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">fia_output_example</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 4193</span></span>
<span><span class="co"># FIA plots in AK for the 2015-2018 period with tree data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="fu"><a href="../reference/clean_empty.html">clean_empty</a></span><span class="op">(</span><span class="va">fia_output_example</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tree"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1532</span></span>
<span><span class="co"># FIA plots in AK for the 2015-2018 period with tree AND shrub AND herbs AND regen data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="fu"><a href="../reference/clean_empty.html">clean_empty</a></span><span class="op">(</span><span class="va">fia_output_example</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tree"</span>, <span class="st">"shrub"</span>, <span class="st">"herbs"</span>, <span class="st">"regen"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1166</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>
<strong>Transforming to spatial object</strong>. By default,
<code>ifn_</code>, <code>fia_</code> and <code>ffi_to_tibble</code>
functions all return a tibble (data frame). These tibbles have the
spatial information to be able to convert plots to spatial points. But
this conversion is not straightforward as sometimes plots from the same
inventory have different coordinate systems or projections. To do this
<code>inventory_to_sf()</code> function can be used directly and it will
make the necessary coordinate transformations to return plots as points
in latitude-longitude format (CRS = 4326):</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ifn_output_example</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/clean_empty.html">clean_empty</a></span><span class="op">(</span><span class="st">"tree"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/inventory_as_sf.html">inventory_as_sf</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 3835 features and 23 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -7.052923 ymin: 42.09784 xmax: -4.781532 ymax: 43.2099</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3,835 × 24</span></span></span>
<span><span class="co">#&gt;      crs id_unique_code   year  plot  coord_sys_orig  elev aspect slope country</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">4</span>326 24_0191_NN_A1_A1 92    0191  ED50            <span style="text-decoration: underline;">1</span>100     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> ES     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">4</span>326 24_0192_NN_A1_xx 92    0192  ED50            <span style="text-decoration: underline;">1</span>300     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> ES     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">4</span>326 24_0194_NN_xx_xx 92    0194  ED50            <span style="text-decoration: underline;">1</span>400     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> ES     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">4</span>326 24_0198_NN_A1_A1 92    0198  ED50            <span style="text-decoration: underline;">1</span>300     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> ES     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">4</span>326 24_0200_NN_xx_xx 92    0200  ED50            <span style="text-decoration: underline;">1</span>200     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> ES     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">4</span>326 24_0201_NN_A1_A1 92    0201  ED50            <span style="text-decoration: underline;">1</span>300     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> ES     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">4</span>326 24_0202_NN_xx_xx 92    0202  ED50            <span style="text-decoration: underline;">1</span>300     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> ES     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">4</span>326 24_0207_NN_A1_A1 92    0207  ED50            <span style="text-decoration: underline;">1</span>300     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> ES     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  <span style="text-decoration: underline;">4</span>326 24_0208_NN_xx_xx 92    0208  ED50            <span style="text-decoration: underline;">1</span>400     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> ES     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  <span style="text-decoration: underline;">4</span>326 24_0209_NN_xx_xx 92    0209  ED50            <span style="text-decoration: underline;">1</span>100     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> ES     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 3,825 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 15 more variables: version &lt;chr&gt;, class &lt;chr&gt;, subclass &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   province_code &lt;chr&gt;, province_name_original &lt;chr&gt;, ca_name_original &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   sheet_ntm &lt;chr&gt;, huso &lt;dbl&gt;, slope_mean &lt;chr&gt;, type &lt;int&gt;, tree &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   understory &lt;list&gt;, regen &lt;list&gt;, geometry &lt;POINT [°]&gt;, crs_orig &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="tree-column">
<code>tree</code> column<a class="anchor" aria-label="anchor" href="#tree-column"></a>
</h3>
<p><code>tree</code> is a <em>nested column</em>, meaning that each cell
contain the tree data table for that row (i.e. the tree data table for
that plot that year/version). As with the plot metadata, an effort to
uniformize the data between inventories has been done.</p>
<ul>
<li><p>Common tree variables among different inventories:<br><code>tree</code>, <code>sp_code</code>, <code>sp_name</code>,
<code>status</code>, <code>density_factor</code>, <code>dia</code>,
<code>height</code>.</p></li>
<li><p>IFN unique tree variables:<br><code>tree_ifn2</code>, <code>tree_ifn3</code>, <code>tree_ifn4</code>
<code>cubing_form</code>, <code>quality_wood</code>. Also, IFN lack the
<code>status</code> variable.</p></li>
<li><p>FFI unique tree variables:<br><code>height_last_recorded</code>, <code>status5</code>,
<code>espar</code>.</p></li>
</ul>
<p>The easiest way to access the tree data is with
<code><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fia_output_example</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/clean_empty.html">clean_empty</a></span><span class="op">(</span><span class="st">"tree"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="st">"tree"</span>, names_sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 55,220 × 30</span></span></span>
<span><span class="co">#&gt;    id_unique_code  year  plot coordx coordy coord_sys   crs  elev aspect slope</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> US_2_20_6376    <span style="text-decoration: underline;">2</span>015  <span style="text-decoration: underline;">6</span>376  -<span style="color: #BB0000;">149.</span>   60.9 NAD83      <span style="text-decoration: underline;">4</span>269  335.    220    43</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> US_2_20_6376    <span style="text-decoration: underline;">2</span>015  <span style="text-decoration: underline;">6</span>376  -<span style="color: #BB0000;">149.</span>   60.9 NAD83      <span style="text-decoration: underline;">4</span>269  335.    220    43</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> US_2_20_6376    <span style="text-decoration: underline;">2</span>015  <span style="text-decoration: underline;">6</span>376  -<span style="color: #BB0000;">149.</span>   60.9 NAD83      <span style="text-decoration: underline;">4</span>269  335.    220    43</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> US_2_20_6376    <span style="text-decoration: underline;">2</span>015  <span style="text-decoration: underline;">6</span>376  -<span style="color: #BB0000;">149.</span>   60.9 NAD83      <span style="text-decoration: underline;">4</span>269  335.    220    43</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> US_2_20_6376    <span style="text-decoration: underline;">2</span>015  <span style="text-decoration: underline;">6</span>376  -<span style="color: #BB0000;">149.</span>   60.9 NAD83      <span style="text-decoration: underline;">4</span>269  335.    220    43</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> US_2_20_6376    <span style="text-decoration: underline;">2</span>015  <span style="text-decoration: underline;">6</span>376  -<span style="color: #BB0000;">149.</span>   60.9 NAD83      <span style="text-decoration: underline;">4</span>269  335.    220    43</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> US_2_20_6376    <span style="text-decoration: underline;">2</span>015  <span style="text-decoration: underline;">6</span>376  -<span style="color: #BB0000;">149.</span>   60.9 NAD83      <span style="text-decoration: underline;">4</span>269  335.    220    43</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> US_2_20_6376    <span style="text-decoration: underline;">2</span>015  <span style="text-decoration: underline;">6</span>376  -<span style="color: #BB0000;">149.</span>   60.9 NAD83      <span style="text-decoration: underline;">4</span>269  335.    220    43</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> US_2_20_6376    <span style="text-decoration: underline;">2</span>015  <span style="text-decoration: underline;">6</span>376  -<span style="color: #BB0000;">149.</span>   60.9 NAD83      <span style="text-decoration: underline;">4</span>269  335.    220    43</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> US_2_20_6376    <span style="text-decoration: underline;">2</span>015  <span style="text-decoration: underline;">6</span>376  -<span style="color: #BB0000;">149.</span>   60.9 NAD83      <span style="text-decoration: underline;">4</span>269  335.    220    43</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 55,210 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 20 more variables: country &lt;chr&gt;, state_code &lt;int&gt;, state_ab &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   state_name &lt;chr&gt;, county_code &lt;chr&gt;, p3panel &lt;int&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   p2veg_sampling_status_cd &lt;int&gt;, rscd &lt;int&gt;, design_code &lt;int&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   subplot &lt;list&gt;, tree_tree_id &lt;int&gt;, tree_sp_code &lt;dbl&gt;, tree_sp_name &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   tree_status &lt;int&gt;, tree_density_factor &lt;dbl&gt;, tree_dbh &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   tree_height &lt;dbl&gt;, understory &lt;list&gt;, regen &lt;list&gt;, …</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="understory-column">
<code>understory</code> column<a class="anchor" aria-label="anchor" href="#understory-column"></a>
</h3>
<p><code>understory</code> is also a <em>nested</em> column. It contains
the data tables for shrubs and for herbs if found in the inventory
plot.</p>
<ul>
<li><p>Common understory variables among different inventories:<br><code>shrub</code>, <code>herbs</code>. Both are also nested columns, as
each kindo of understory has different data estructure.</p></li>
<li><p>FFI unique understory variables:<br><code>lign1_pct</code>, <code>lign2_pct</code>.</p></li>
</ul>
<div class="section level4">
<h4 id="shrub-column">
<code>shrub</code> column<a class="anchor" aria-label="anchor" href="#shrub-column"></a>
</h4>
<ul>
<li><p>Common shrub variables among different inventories:<br><code>sp_code</code>, <code>sp_name</code>, <code>cover</code>,
<code>height</code>, <code>growth_form</code></p></li>
<li><p>FIA unique shrub variables:<br><code>subplot</code>, <code>growth_form_code</code>.</p></li>
</ul>
</div>
<div class="section level4">
<h4 id="herbs-column">
<code>herbs</code> column<a class="anchor" aria-label="anchor" href="#herbs-column"></a>
</h4>
<p>The <code>herbs</code> data is different in each inventory, and is
not present in the IFN.</p>
<ul>
<li><p>FIA unique herbs variables:<br><code>subplot</code>, <code>sp_name</code>,
<code>growth_form_code</code>, <code>height</code>, <code>cover</code>,
<code>growth_form</code>, <code>sp_code</code></p></li>
<li><p>FFI unique herbs variables:<br><code>herb_pct</code></p></li>
</ul>
<p>The easiest way to access the understory data is with
<code><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ffi_output_example</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/clean_empty.html">clean_empty</a></span><span class="op">(</span><span class="st">"shrub"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="st">"understory"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="st">"shrub"</span>, names_sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4,760 × 23</span></span></span>
<span><span class="co">#&gt;    id_unique_code  year plot  coordx coordy coord_sys   crs aspect slope country</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> FR_42_1000969   <span style="text-decoration: underline;">2</span>015 1000… 8.24<span style="color: #949494;">e</span>5 6.47<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154    342    12 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> FR_42_1000969   <span style="text-decoration: underline;">2</span>015 1000… 8.24<span style="color: #949494;">e</span>5 6.47<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154    342    12 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> FR_42_1000969   <span style="text-decoration: underline;">2</span>015 1000… 8.24<span style="color: #949494;">e</span>5 6.47<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154    342    12 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> FR_42_1000969   <span style="text-decoration: underline;">2</span>015 1000… 8.24<span style="color: #949494;">e</span>5 6.47<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154    342    12 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> FR_42_1000969   <span style="text-decoration: underline;">2</span>015 1000… 8.24<span style="color: #949494;">e</span>5 6.47<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154    342    12 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> FR_42_1000969   <span style="text-decoration: underline;">2</span>015 1000… 8.24<span style="color: #949494;">e</span>5 6.47<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154    342    12 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> FR_42_1000969   <span style="text-decoration: underline;">2</span>015 1000… 8.24<span style="color: #949494;">e</span>5 6.47<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154    342    12 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> FR_42_1000969   <span style="text-decoration: underline;">2</span>015 1000… 8.24<span style="color: #949494;">e</span>5 6.47<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154    342    12 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> FR_42_1000969   <span style="text-decoration: underline;">2</span>015 1000… 8.24<span style="color: #949494;">e</span>5 6.47<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154    342    12 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> FR_42_1000969   <span style="text-decoration: underline;">2</span>015 1000… 8.24<span style="color: #949494;">e</span>5 6.47<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154    342    12 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 4,750 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 13 more variables: dep &lt;chr&gt;, dep_name &lt;chr&gt;, visite &lt;int&gt;, tree &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   lign1_pct &lt;int&gt;, lign2_pct &lt;int&gt;, shrub_sp_code &lt;chr&gt;, shrub_sp_name &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   shrub_cover &lt;dbl&gt;, shrub_height &lt;lgl&gt;, shrub_growth_form &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   herbs &lt;list&gt;, regen &lt;list&gt;</span></span></span>
<span></span>
<span><span class="va">ffi_output_example</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/clean_empty.html">clean_empty</a></span><span class="op">(</span><span class="st">"herbs"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="st">"understory"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="st">"herbs"</span>, names_sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 499 × 19</span></span></span>
<span><span class="co">#&gt;    id_unique_code  year plot  coordx coordy coord_sys   crs aspect slope country</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> FR_42_500534    <span style="text-decoration: underline;">2</span>015 5005… 8.14<span style="color: #949494;">e</span>5 6.48<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154   85.5    43 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> FR_42_503498    <span style="text-decoration: underline;">2</span>015 5034… 7.61<span style="color: #949494;">e</span>5 6.53<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154  130.     12 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> FR_42_504950    <span style="text-decoration: underline;">2</span>015 5049… 7.93<span style="color: #949494;">e</span>5 6.55<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154  333      15 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> FR_42_505301    <span style="text-decoration: underline;">2</span>015 5053… 7.72<span style="color: #949494;">e</span>5 6.48<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154   <span style="color: #BB0000;">NA</span>       0 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> FR_42_505321    <span style="text-decoration: underline;">2</span>015 5053… 8.22<span style="color: #949494;">e</span>5 6.48<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154  180      18 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> FR_42_507479    <span style="text-decoration: underline;">2</span>015 5074… 7.76<span style="color: #949494;">e</span>5 6.50<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154   <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span> FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> FR_42_509007    <span style="text-decoration: underline;">2</span>015 5090… 8.07<span style="color: #949494;">e</span>5 6.53<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154  266.     28 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> FR_42_512511    <span style="text-decoration: underline;">2</span>015 5125… 8.08<span style="color: #949494;">e</span>5 6.46<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154   23.4    15 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> FR_42_512565    <span style="text-decoration: underline;">2</span>015 5125… 8.22<span style="color: #949494;">e</span>5 6.47<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154   22.5    46 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> FR_42_512609    <span style="text-decoration: underline;">2</span>015 5126… 7.97<span style="color: #949494;">e</span>5 6.53<span style="color: #949494;">e</span>6 LAMBERT    <span style="text-decoration: underline;">2</span>154  313.     36 FR     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 489 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 9 more variables: dep &lt;chr&gt;, dep_name &lt;chr&gt;, visite &lt;int&gt;, tree &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   lign1_pct &lt;int&gt;, lign2_pct &lt;int&gt;, shrub &lt;list&gt;, herbs_herb_pct &lt;int&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   regen &lt;list&gt;</span></span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="regen-column">
<code>regen</code> column<a class="anchor" aria-label="anchor" href="#regen-column"></a>
</h3>
<p><code>regen</code> is a <em>nested column</em>, meaning that each
cell contain the regen data table for that row (i.e. the regen data
table for that plot that year/version). As with the plot metadata, an
effort to uniformize the data between inventories has been done.</p>
<ul>
<li><p>Common regen variables among different inventories:<br><code>sp_code</code>, <code>sp_name</code>, <code>density_factor</code>,
<code>dbh</code>, <code>height</code>, <code>n</code>.</p></li>
<li><p>FIA unique regen variables:<br><code>subplot</code>, <code>treecount_calc</code>.</p></li>
<li><p>FFI unique regen variables:<br><code>cover</code>, <code>growth_form</code></p></li>
</ul>
<p>The easiest way to access the regen data is with
<code><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest()</a></code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ifn_output_example</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/clean_empty.html">clean_empty</a></span><span class="op">(</span><span class="st">"regen"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="st">"regen"</span>, names_sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 14,363 × 29</span></span></span>
<span><span class="co">#&gt;    id_unique_code   year  plot  coordx coordy coord_sys   crs  elev aspect slope</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 24_0191_NN_A1_A1 92    0191  <span style="text-decoration: underline;">675</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>100     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 24_0191_NN_A1_A1 92    0191  <span style="text-decoration: underline;">675</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>100     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 24_0191_NN_A1_A1 92    0191  <span style="text-decoration: underline;">675</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>100     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 24_0191_NN_A1_A1 92    0191  <span style="text-decoration: underline;">675</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>100     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 24_0192_NN_A1_xx 92    0192  <span style="text-decoration: underline;">675</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>300     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 24_0192_NN_A1_xx 92    0192  <span style="text-decoration: underline;">675</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>300     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 24_0192_NN_A1_xx 92    0192  <span style="text-decoration: underline;">675</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>300     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 24_0194_NN_xx_xx 92    0194  <span style="text-decoration: underline;">687</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>400     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 24_0194_NN_xx_xx 92    0194  <span style="text-decoration: underline;">687</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>400     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 24_0194_NN_xx_xx 92    0194  <span style="text-decoration: underline;">687</span>000 4.75<span style="color: #949494;">e</span>6 ED50      <span style="text-decoration: underline;">23</span>029  <span style="text-decoration: underline;">1</span>400     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 14,353 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 19 more variables: country &lt;chr&gt;, version &lt;chr&gt;, class &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   subclass &lt;chr&gt;, province_code &lt;chr&gt;, province_name_original &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ca_name_original &lt;chr&gt;, sheet_ntm &lt;chr&gt;, huso &lt;dbl&gt;, slope_mean &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   type &lt;int&gt;, tree &lt;list&gt;, understory &lt;list&gt;, regen_sp_code &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   regen_sp_name &lt;chr&gt;, regen_dbh &lt;dbl&gt;, regen_height &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   regen_density_factor &lt;dbl&gt;, regen_n &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adriana Tovar, Víctor Granda.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
